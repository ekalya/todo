/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
import * as tslib_1 from "tslib";
import { isObject } from '../internal/utils';
/**
 * Adds one or more elements to the end of an array by returning
 * a new array instead of mutating the original one.
 *
 * \@example
 * const originalArray = ['a', 'b', 'c', 'd', 'e'];
 * const resultArray = push(originalArray, 'f', 'g');
 * // -> originalArray ['a', 'b', 'c', 'd', 'e']
 * // -> resultArray ['a', 'b', 'c', 'd', 'e', 'f', 'g']
 * @template T
 * @param {?} array
 * @param {...?} elementN
 * @return {?}
 */
export function push(array) {
    var elementN = [];
    for (var _i = 1; _i < arguments.length; _i++) {
        elementN[_i - 1] = arguments[_i];
    }
    return tslib_1.__spread(array, elementN);
}
/**
 * Deletes an element from an array by its index in the array.
 *
 * \@example
 * const originalArray = ['a', 'b', 'c', 'd', 'e'];
 * const resultArray = remove(originalArray, 2);
 * // -> originalArray ['a', 'b', 'c', 'd', 'e']
 * // -> resultArray ['a', 'b', 'd', 'e']
 * @template T
 * @param {?} array
 * @param {?} index
 * @return {?}
 */
export function remove(array, index) {
    return index >= 0 ? tslib_1.__spread(array.slice(0, index), array.slice(index + 1)) : tslib_1.__spread(array);
}
/**
 * Removes the last element from an array by returning
 * a new array instead of mutating the original one.
 *
 * \@example
 * const originalArray = ['a', 'b', 'c', 'd', 'e'];
 * const resultArray = pop(originalArray);
 * // -> originalArray ['a', 'b', 'c', 'd', 'e']
 * // -> resultArray ['a', 'b', 'c', 'd']
 * @template T
 * @param {?} array
 * @return {?}
 */
export function pop(array) {
    return array.slice(0, -1);
}
/**
 * Adds one or more elements to the beginning of an array.
 *
 * \@example
 * const originalArray = ['a', 'b', 'c', 'd', 'e'];
 * const resultArray = unshift(originalArray, 'f', 'g');
 * // -> originalArray ['a', 'b', 'c', 'd', 'e']
 * // -> resultArray ['f', 'g', 'a', 'b', 'c', 'd', 'e']
 * @template T
 * @param {?} array
 * @param {...?} elementN
 * @return {?}
 */
export function unshift(array) {
    var elementN = [];
    for (var _i = 1; _i < arguments.length; _i++) {
        elementN[_i - 1] = arguments[_i];
    }
    return tslib_1.__spread(elementN, array);
}
/**
 * Sorts the elements of an array (not in place) and returns a sorted array.
 *
 * \@example
 * const numberArray = [20, 3, 4, 10, -3, 1, 0, 5];
 * const stringArray = ['Blue', 'Humpback', 'Beluga'];
 *
 * const resultArray = sort(numberArray, (a, b) => a - b);
 * // -> numberArray [20, 3, 4, 10, -3, 1, 0, 5]
 * // -> resultArray [-3, 0, 1, 3, 4, 5, 10, 20]
 *
 * const resultArray = sort(numberArray, (a, b) => b - a);
 * // -> numberArray [20, 3, 4, 10, -3, 1, 0, 5]
 * // -> resultArray [20, 10, 5, 4, 3, 1, 0, -3]
 *
 * const resultArray = sort(stringArray);
 * // -> stringArray ['Blue', 'Humpback', 'Beluga']
 * // -> resultArray ['Beluga', 'Blue', 'Humpback']
 *
 * const resultArray = sort(stringArray, (a, b) => a.toLowerCase() < b.toLowerCase());
 * // -> stringArray ['Blue', 'Humpback', 'Beluga']
 * // -> resultArray ['Humpback', 'Blue', 'Beluga']
 * @template T
 * @param {?} array
 * @param {?=} compareFunction
 * @return {?}
 */
export function sort(array, compareFunction) {
    return tslib_1.__spread(array).sort(compareFunction);
}
/**
 * Reverses an array (not in place).
 * The first array element becomes the last, and the last array element becomes the first.
 *
 * \@example
 * const originalArray = ['a', 'b', 'c', 'd', 'e'];
 * const resultArray = reverse(originalArray);
 * // -> originalArray ['a', 'b', 'c', 'd', 'e']
 * // -> resultArray ['e', 'd', 'c', 'b', 'a']
 * @template T
 * @param {?} array
 * @return {?}
 */
export function reverse(array) {
    return tslib_1.__spread(array).reverse();
}
/**
 * Swap items in the array
 *
 * \@example
 * const originalArray = ['a', 'b', 'c', 'd', 'e'];
 * const resultArray = swap(originalArray, 1, 4);
 * // -> originalArray ['a', 'b', 'c', 'd', 'e']
 * // -> resultArray ['a', 'e', 'c', 'd', 'b']
 * @template T
 * @param {?} array
 * @param {?} firstIndex
 * @param {?} secondIndex
 * @return {?}
 */
export function swap(array, firstIndex, secondIndex) {
    /** @type {?} */
    var results = array.slice();
    /** @type {?} */
    var firstItem = array[firstIndex];
    results[firstIndex] = array[secondIndex];
    results[secondIndex] = firstItem;
    return results;
}
/**
 * Update item in the array
 *
 * \@example
 * const originalArray = ['a', 'b', 'c', 'd', 'e'];
 * const resultArray = update(originalArray, 1, 'newItem');
 * // -> resultArray ['a', 'newItem', 'c', 'd', 'b']
 *
 * const originalArray = [{title: 1}, {title: 2}];
 * const resultArray = update(originalArray, originalArray[0], {title: 3});
 * // -> resultArray  [{title: 3}, {title: 2}];
 * @template T
 * @param {?} array
 * @param {?} indexOrItem
 * @param {?} updated
 * @return {?}
 */
export function update(array, indexOrItem, updated) {
    return array.map(function (current, idx) {
        if (typeof indexOrItem === 'number' && idx === indexOrItem) {
            return updated;
        }
        if (isObject(indexOrItem) && (/** @type {?} */ (indexOrItem)) === current) {
            return tslib_1.__assign({}, (/** @type {?} */ (indexOrItem)), (/** @type {?} */ (updated)));
        }
        return current;
    });
}
/**
 * Removes existing elements and/or adds new elements to an array.
 *
 * \@example
 * const originalArray = ['a', 'b', 'c', 'd', 'e'];
 * const resultArray = splice(originalArray, 0);
 * // -> originalArray ['a', 'b', 'c', 'd', 'e']
 * // -> resultArray []
 *
 * const originalArray = ['a', 'b', 'c', 'd', 'e'];
 * const resultArray = splice(originalArray, 0, 1);
 * // -> originalArray ['a', 'b', 'c', 'd', 'e']
 * // -> resultArray ['b', 'c', 'd', 'e']
 *
 * const originalArray = ['a', 'b', 'c', 'd', 'e'];
 * const resultArray = splice(originalArray, 0, 3);
 * // -> originalArray ['a', 'b', 'c', 'd', 'e']
 * // -> resultArray ['d', 'e']
 *
 * const originalArray = ['a', 'b', 'c', 'd', 'e'];
 * const resultArray = splice(originalArray, 0, originalArray.length);
 * // -> originalArray ['a', 'b', 'c', 'd', 'e']
 * // -> resultArray []
 *
 * const originalArray = ['a', 'b', 'c', 'd', 'e'];
 * const resultArray = splice(originalArray, 0, -3);
 * // -> originalArray ['a', 'b', 'c', 'd', 'e']
 * // -> resultArray ['a', 'b', 'c', 'd', 'e']
 *
 * const originalArray = ['a', 'b', 'c', 'd', 'e'];
 * const resultArray = splice(originalArray, 0, 0, 'lorem', 'ipsum');
 * // -> originalArray ['a', 'b', 'c', 'd', 'e']
 * // -> resultArray ['lorem', 'ipsum', 'a', 'b', 'c', 'd', 'e']
 *
 * const originalArray = ['a', 'b', 'c', 'd', 'e'];
 * const resultArray = splice(originalArray, originalArray.length, 0, 'lorem', 'ipsum');
 * // -> originalArray ['a', 'b', 'c', 'd', 'e']
 * // -> resultArray ['a', 'b', 'c', 'd', 'e', 'lorem', 'ipsum']
 *
 * const originalArray = ['a', 'b', 'c', 'd', 'e'];
 * const resultArray = splice(originalArray, 0, 2, 'lorem', 'ipsum');
 * // -> originalArray ['a', 'b', 'c', 'd', 'e']
 * // -> resultArray ['lorem', 'ipsum', 'c', 'd', 'e']
 *
 * const originalArray = ['a', 'b', 'c', 'd', 'e'];
 * const resultArray = splice(originalArray, originalArray.length - 2, 2, 'lorem', 'ipsum');
 * // -> originalArray ['a', 'b', 'c', 'd', 'e']
 * // -> resultArray ['a', 'b', 'c', 'lorem', 'ipsum']
 * @template T
 * @param {?} array
 * @param {?=} start
 * @param {?=} deleteCount
 * @param {...?} elementN
 * @return {?}
 */
export function splice(array, start, deleteCount) {
    if (start === void 0) { start = array.length; }
    if (deleteCount === void 0) { deleteCount = array.length - start; }
    var elementN = [];
    for (var _i = 3; _i < arguments.length; _i++) {
        elementN[_i - 3] = arguments[_i];
    }
    return tslib_1.__spread(array.slice(0, start), elementN, array.slice(start + (deleteCount < 0 ? 0 : deleteCount)));
}
/**
 * @template T
 * @param {?} arr
 * @param {?} item
 * @return {?}
 */
export function toggle(arr, item) {
    return arr.indexOf(item) > -1 ? arr.filter(function (current) { return item !== current; }) : push(arr, item);
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXJyYXlzLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGRhdG9yYW1hL2FraXRhLyIsInNvdXJjZXMiOlsic3JjL2FwaS9hcnJheXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7Ozs7Ozs7Ozs7Ozs7OztBQWM3QyxNQUFNLGVBQWtCLEtBQVU7SUFBRSxrQkFBZ0I7U0FBaEIsVUFBZ0IsRUFBaEIscUJBQWdCLEVBQWhCLElBQWdCO1FBQWhCLGlDQUFnQjs7SUFDbEQsd0JBQVcsS0FBSyxFQUFLLFFBQVEsRUFBRTtDQUNoQzs7Ozs7Ozs7Ozs7Ozs7QUFXRCxNQUFNLGlCQUFvQixLQUFVLEVBQUUsS0FBYTtJQUNqRCxPQUFPLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQyxrQkFBSyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBSyxLQUFLLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLGtCQUFLLEtBQUssQ0FBQyxDQUFDO0NBQ3hGOzs7Ozs7Ozs7Ozs7OztBQVlELE1BQU0sY0FBaUIsS0FBVTtJQUMvQixPQUFPLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FDM0I7Ozs7Ozs7Ozs7Ozs7O0FBV0QsTUFBTSxrQkFBcUIsS0FBVTtJQUFFLGtCQUFnQjtTQUFoQixVQUFnQixFQUFoQixxQkFBZ0IsRUFBaEIsSUFBZ0I7UUFBaEIsaUNBQWdCOztJQUNyRCx3QkFBVyxRQUFRLEVBQUssS0FBSyxFQUFFO0NBQ2hDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBeUJELE1BQU0sZUFBa0IsS0FBVSxFQUFFLGVBQXdDO0lBQzFFLE9BQU8saUJBQUksS0FBSyxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztDQUN6Qzs7Ozs7Ozs7Ozs7Ozs7QUFZRCxNQUFNLGtCQUFxQixLQUFVO0lBQ25DLE9BQU8saUJBQUksS0FBSyxFQUFFLE9BQU8sRUFBRSxDQUFDO0NBQzdCOzs7Ozs7Ozs7Ozs7Ozs7QUFXRCxNQUFNLGVBQWtCLEtBQVUsRUFBRSxVQUFrQixFQUFFLFdBQW1COztJQUN6RSxJQUFNLE9BQU8sR0FBRyxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUM7O0lBQzlCLElBQU0sU0FBUyxHQUFHLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUNwQyxPQUFPLENBQUMsVUFBVSxDQUFDLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3pDLE9BQU8sQ0FBQyxXQUFXLENBQUMsR0FBRyxTQUFTLENBQUM7SUFFakMsT0FBTyxPQUFPLENBQUM7Q0FDaEI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWNELE1BQU0saUJBQW9CLEtBQVUsRUFBRSxXQUE0QixFQUFFLE9BQVU7SUFDNUUsT0FBTyxLQUFLLENBQUMsR0FBRyxDQUFDLFVBQUMsT0FBTyxFQUFFLEdBQUc7UUFDNUIsSUFBSSxPQUFPLFdBQVcsS0FBSyxRQUFRLElBQUksR0FBRyxLQUFLLFdBQVcsRUFBRTtZQUMxRCxPQUFPLE9BQU8sQ0FBQztTQUNoQjtRQUVELElBQUksUUFBUSxDQUFDLFdBQVcsQ0FBQyxJQUFJLG1CQUFDLFdBQWtCLEVBQUMsS0FBSyxPQUFPLEVBQUU7WUFDN0QsNEJBQ0ssbUJBQUMsV0FBcUIsRUFBQyxFQUN2QixtQkFBQyxPQUFjLEVBQUMsRUFDbkI7U0FDSDtRQUVELE9BQU8sT0FBTyxDQUFDO0tBQ2hCLENBQUMsQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQW1ERCxNQUFNLGlCQUFvQixLQUFVLEVBQUUsS0FBb0IsRUFBRSxXQUFrQztJQUF4RCxzQkFBQSxFQUFBLFFBQVEsS0FBSyxDQUFDLE1BQU07SUFBRSw0QkFBQSxFQUFBLGNBQWMsS0FBSyxDQUFDLE1BQU0sR0FBRyxLQUFLO0lBQUUsa0JBQWdCO1NBQWhCLFVBQWdCLEVBQWhCLHFCQUFnQixFQUFoQixJQUFnQjtRQUFoQixpQ0FBZ0I7O0lBQzlHLHdCQUFXLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxFQUFLLFFBQVEsRUFBSyxLQUFLLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBRTtDQUM3Rzs7Ozs7OztBQUVELE1BQU0saUJBQW9CLEdBQVEsRUFBRSxJQUFPO0lBQ3pDLE9BQU8sR0FBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxVQUFBLE9BQU8sSUFBSSxPQUFBLElBQUksS0FBSyxPQUFPLEVBQWhCLENBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztDQUMzRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnLi4vaW50ZXJuYWwvdXRpbHMnO1xuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vZ2VvcmFwYm94L2ltbXV0YWJsZS1hcnJheXNcblxuLyoqXG4gKiBBZGRzIG9uZSBvciBtb3JlIGVsZW1lbnRzIHRvIHRoZSBlbmQgb2YgYW4gYXJyYXkgYnkgcmV0dXJuaW5nXG4gKiBhIG5ldyBhcnJheSBpbnN0ZWFkIG9mIG11dGF0aW5nIHRoZSBvcmlnaW5hbCBvbmUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IG9yaWdpbmFsQXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2QnLCAnZSddO1xuICogY29uc3QgcmVzdWx0QXJyYXkgPSBwdXNoKG9yaWdpbmFsQXJyYXksICdmJywgJ2cnKTtcbiAqIC8vIC0+IG9yaWdpbmFsQXJyYXkgWydhJywgJ2InLCAnYycsICdkJywgJ2UnXVxuICogLy8gLT4gcmVzdWx0QXJyYXkgWydhJywgJ2InLCAnYycsICdkJywgJ2UnLCAnZicsICdnJ11cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHB1c2g8VD4oYXJyYXk6IFRbXSwgLi4uZWxlbWVudE46IFRbXSk6IFRbXSB7XG4gIHJldHVybiBbLi4uYXJyYXksIC4uLmVsZW1lbnROXTtcbn1cblxuLyoqXG4gKiBEZWxldGVzIGFuIGVsZW1lbnQgZnJvbSBhbiBhcnJheSBieSBpdHMgaW5kZXggaW4gdGhlIGFycmF5LlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBvcmlnaW5hbEFycmF5ID0gWydhJywgJ2InLCAnYycsICdkJywgJ2UnXTtcbiAqIGNvbnN0IHJlc3VsdEFycmF5ID0gcmVtb3ZlKG9yaWdpbmFsQXJyYXksIDIpO1xuICogLy8gLT4gb3JpZ2luYWxBcnJheSBbJ2EnLCAnYicsICdjJywgJ2QnLCAnZSddXG4gKiAvLyAtPiByZXN1bHRBcnJheSBbJ2EnLCAnYicsICdkJywgJ2UnXVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlPFQ+KGFycmF5OiBUW10sIGluZGV4OiBudW1iZXIpOiBUW10ge1xuICByZXR1cm4gaW5kZXggPj0gMCA/IFsuLi5hcnJheS5zbGljZSgwLCBpbmRleCksIC4uLmFycmF5LnNsaWNlKGluZGV4ICsgMSldIDogWy4uLmFycmF5XTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIHRoZSBsYXN0IGVsZW1lbnQgZnJvbSBhbiBhcnJheSBieSByZXR1cm5pbmdcbiAqIGEgbmV3IGFycmF5IGluc3RlYWQgb2YgbXV0YXRpbmcgdGhlIG9yaWdpbmFsIG9uZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3Qgb3JpZ2luYWxBcnJheSA9IFsnYScsICdiJywgJ2MnLCAnZCcsICdlJ107XG4gKiBjb25zdCByZXN1bHRBcnJheSA9IHBvcChvcmlnaW5hbEFycmF5KTtcbiAqIC8vIC0+IG9yaWdpbmFsQXJyYXkgWydhJywgJ2InLCAnYycsICdkJywgJ2UnXVxuICogLy8gLT4gcmVzdWx0QXJyYXkgWydhJywgJ2InLCAnYycsICdkJ11cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBvcDxUPihhcnJheTogVFtdKTogVFtdIHtcbiAgcmV0dXJuIGFycmF5LnNsaWNlKDAsIC0xKTtcbn1cblxuLyoqXG4gKiBBZGRzIG9uZSBvciBtb3JlIGVsZW1lbnRzIHRvIHRoZSBiZWdpbm5pbmcgb2YgYW4gYXJyYXkuXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IG9yaWdpbmFsQXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2QnLCAnZSddO1xuICogY29uc3QgcmVzdWx0QXJyYXkgPSB1bnNoaWZ0KG9yaWdpbmFsQXJyYXksICdmJywgJ2cnKTtcbiAqIC8vIC0+IG9yaWdpbmFsQXJyYXkgWydhJywgJ2InLCAnYycsICdkJywgJ2UnXVxuICogLy8gLT4gcmVzdWx0QXJyYXkgWydmJywgJ2cnLCAnYScsICdiJywgJ2MnLCAnZCcsICdlJ11cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2hpZnQ8VD4oYXJyYXk6IFRbXSwgLi4uZWxlbWVudE46IFRbXSk6IFRbXSB7XG4gIHJldHVybiBbLi4uZWxlbWVudE4sIC4uLmFycmF5XTtcbn1cblxuLyoqXG4gKiBTb3J0cyB0aGUgZWxlbWVudHMgb2YgYW4gYXJyYXkgKG5vdCBpbiBwbGFjZSkgYW5kIHJldHVybnMgYSBzb3J0ZWQgYXJyYXkuXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IG51bWJlckFycmF5ID0gWzIwLCAzLCA0LCAxMCwgLTMsIDEsIDAsIDVdO1xuICogY29uc3Qgc3RyaW5nQXJyYXkgPSBbJ0JsdWUnLCAnSHVtcGJhY2snLCAnQmVsdWdhJ107XG4gKlxuICogY29uc3QgcmVzdWx0QXJyYXkgPSBzb3J0KG51bWJlckFycmF5LCAoYSwgYikgPT4gYSAtIGIpO1xuICogLy8gLT4gbnVtYmVyQXJyYXkgWzIwLCAzLCA0LCAxMCwgLTMsIDEsIDAsIDVdXG4gKiAvLyAtPiByZXN1bHRBcnJheSBbLTMsIDAsIDEsIDMsIDQsIDUsIDEwLCAyMF1cbiAqXG4gKiBjb25zdCByZXN1bHRBcnJheSA9IHNvcnQobnVtYmVyQXJyYXksIChhLCBiKSA9PiBiIC0gYSk7XG4gKiAvLyAtPiBudW1iZXJBcnJheSBbMjAsIDMsIDQsIDEwLCAtMywgMSwgMCwgNV1cbiAqIC8vIC0+IHJlc3VsdEFycmF5IFsyMCwgMTAsIDUsIDQsIDMsIDEsIDAsIC0zXVxuICpcbiAqIGNvbnN0IHJlc3VsdEFycmF5ID0gc29ydChzdHJpbmdBcnJheSk7XG4gKiAvLyAtPiBzdHJpbmdBcnJheSBbJ0JsdWUnLCAnSHVtcGJhY2snLCAnQmVsdWdhJ11cbiAqIC8vIC0+IHJlc3VsdEFycmF5IFsnQmVsdWdhJywgJ0JsdWUnLCAnSHVtcGJhY2snXVxuICpcbiAqIGNvbnN0IHJlc3VsdEFycmF5ID0gc29ydChzdHJpbmdBcnJheSwgKGEsIGIpID0+IGEudG9Mb3dlckNhc2UoKSA8IGIudG9Mb3dlckNhc2UoKSk7XG4gKiAvLyAtPiBzdHJpbmdBcnJheSBbJ0JsdWUnLCAnSHVtcGJhY2snLCAnQmVsdWdhJ11cbiAqIC8vIC0+IHJlc3VsdEFycmF5IFsnSHVtcGJhY2snLCAnQmx1ZScsICdCZWx1Z2EnXVxuICovXG5leHBvcnQgZnVuY3Rpb24gc29ydDxUPihhcnJheTogVFtdLCBjb21wYXJlRnVuY3Rpb24/OiAoYTogVCwgYjogVCkgPT4gbnVtYmVyKTogVFtdIHtcbiAgcmV0dXJuIFsuLi5hcnJheV0uc29ydChjb21wYXJlRnVuY3Rpb24pO1xufVxuXG4vKipcbiAqIFJldmVyc2VzIGFuIGFycmF5IChub3QgaW4gcGxhY2UpLlxuICogVGhlIGZpcnN0IGFycmF5IGVsZW1lbnQgYmVjb21lcyB0aGUgbGFzdCwgYW5kIHRoZSBsYXN0IGFycmF5IGVsZW1lbnQgYmVjb21lcyB0aGUgZmlyc3QuXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IG9yaWdpbmFsQXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2QnLCAnZSddO1xuICogY29uc3QgcmVzdWx0QXJyYXkgPSByZXZlcnNlKG9yaWdpbmFsQXJyYXkpO1xuICogLy8gLT4gb3JpZ2luYWxBcnJheSBbJ2EnLCAnYicsICdjJywgJ2QnLCAnZSddXG4gKiAvLyAtPiByZXN1bHRBcnJheSBbJ2UnLCAnZCcsICdjJywgJ2InLCAnYSddXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXZlcnNlPFQ+KGFycmF5OiBUW10pOiBUW10ge1xuICByZXR1cm4gWy4uLmFycmF5XS5yZXZlcnNlKCk7XG59XG5cbi8qKlxuICogU3dhcCBpdGVtcyBpbiB0aGUgYXJyYXlcbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3Qgb3JpZ2luYWxBcnJheSA9IFsnYScsICdiJywgJ2MnLCAnZCcsICdlJ107XG4gKiBjb25zdCByZXN1bHRBcnJheSA9IHN3YXAob3JpZ2luYWxBcnJheSwgMSwgNCk7XG4gKiAvLyAtPiBvcmlnaW5hbEFycmF5IFsnYScsICdiJywgJ2MnLCAnZCcsICdlJ11cbiAqIC8vIC0+IHJlc3VsdEFycmF5IFsnYScsICdlJywgJ2MnLCAnZCcsICdiJ11cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN3YXA8VD4oYXJyYXk6IFRbXSwgZmlyc3RJbmRleDogbnVtYmVyLCBzZWNvbmRJbmRleDogbnVtYmVyKTogVFtdIHtcbiAgY29uc3QgcmVzdWx0cyA9IGFycmF5LnNsaWNlKCk7XG4gIGNvbnN0IGZpcnN0SXRlbSA9IGFycmF5W2ZpcnN0SW5kZXhdO1xuICByZXN1bHRzW2ZpcnN0SW5kZXhdID0gYXJyYXlbc2Vjb25kSW5kZXhdO1xuICByZXN1bHRzW3NlY29uZEluZGV4XSA9IGZpcnN0SXRlbTtcblxuICByZXR1cm4gcmVzdWx0cztcbn1cblxuLyoqXG4gKiBVcGRhdGUgaXRlbSBpbiB0aGUgYXJyYXlcbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3Qgb3JpZ2luYWxBcnJheSA9IFsnYScsICdiJywgJ2MnLCAnZCcsICdlJ107XG4gKiBjb25zdCByZXN1bHRBcnJheSA9IHVwZGF0ZShvcmlnaW5hbEFycmF5LCAxLCAnbmV3SXRlbScpO1xuICogLy8gLT4gcmVzdWx0QXJyYXkgWydhJywgJ25ld0l0ZW0nLCAnYycsICdkJywgJ2InXVxuICpcbiAqIGNvbnN0IG9yaWdpbmFsQXJyYXkgPSBbe3RpdGxlOiAxfSwge3RpdGxlOiAyfV07XG4gKiBjb25zdCByZXN1bHRBcnJheSA9IHVwZGF0ZShvcmlnaW5hbEFycmF5LCBvcmlnaW5hbEFycmF5WzBdLCB7dGl0bGU6IDN9KTtcbiAqIC8vIC0+IHJlc3VsdEFycmF5ICBbe3RpdGxlOiAzfSwge3RpdGxlOiAyfV07XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGU8VD4oYXJyYXk6IFRbXSwgaW5kZXhPckl0ZW06IG51bWJlciB8IG9iamVjdCwgdXBkYXRlZDogVCk6IFRbXSB7XG4gIHJldHVybiBhcnJheS5tYXAoKGN1cnJlbnQsIGlkeCkgPT4ge1xuICAgIGlmICh0eXBlb2YgaW5kZXhPckl0ZW0gPT09ICdudW1iZXInICYmIGlkeCA9PT0gaW5kZXhPckl0ZW0pIHtcbiAgICAgIHJldHVybiB1cGRhdGVkO1xuICAgIH1cblxuICAgIGlmIChpc09iamVjdChpbmRleE9ySXRlbSkgJiYgKGluZGV4T3JJdGVtIGFzIGFueSkgPT09IGN1cnJlbnQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLihpbmRleE9ySXRlbSBhcyBvYmplY3QpLFxuICAgICAgICAuLi4odXBkYXRlZCBhcyBhbnkpXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBjdXJyZW50O1xuICB9KTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGV4aXN0aW5nIGVsZW1lbnRzIGFuZC9vciBhZGRzIG5ldyBlbGVtZW50cyB0byBhbiBhcnJheS5cbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3Qgb3JpZ2luYWxBcnJheSA9IFsnYScsICdiJywgJ2MnLCAnZCcsICdlJ107XG4gKiBjb25zdCByZXN1bHRBcnJheSA9IHNwbGljZShvcmlnaW5hbEFycmF5LCAwKTtcbiAqIC8vIC0+IG9yaWdpbmFsQXJyYXkgWydhJywgJ2InLCAnYycsICdkJywgJ2UnXVxuICogLy8gLT4gcmVzdWx0QXJyYXkgW11cbiAqXG4gKiBjb25zdCBvcmlnaW5hbEFycmF5ID0gWydhJywgJ2InLCAnYycsICdkJywgJ2UnXTtcbiAqIGNvbnN0IHJlc3VsdEFycmF5ID0gc3BsaWNlKG9yaWdpbmFsQXJyYXksIDAsIDEpO1xuICogLy8gLT4gb3JpZ2luYWxBcnJheSBbJ2EnLCAnYicsICdjJywgJ2QnLCAnZSddXG4gKiAvLyAtPiByZXN1bHRBcnJheSBbJ2InLCAnYycsICdkJywgJ2UnXVxuICpcbiAqIGNvbnN0IG9yaWdpbmFsQXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2QnLCAnZSddO1xuICogY29uc3QgcmVzdWx0QXJyYXkgPSBzcGxpY2Uob3JpZ2luYWxBcnJheSwgMCwgMyk7XG4gKiAvLyAtPiBvcmlnaW5hbEFycmF5IFsnYScsICdiJywgJ2MnLCAnZCcsICdlJ11cbiAqIC8vIC0+IHJlc3VsdEFycmF5IFsnZCcsICdlJ11cbiAqXG4gKiBjb25zdCBvcmlnaW5hbEFycmF5ID0gWydhJywgJ2InLCAnYycsICdkJywgJ2UnXTtcbiAqIGNvbnN0IHJlc3VsdEFycmF5ID0gc3BsaWNlKG9yaWdpbmFsQXJyYXksIDAsIG9yaWdpbmFsQXJyYXkubGVuZ3RoKTtcbiAqIC8vIC0+IG9yaWdpbmFsQXJyYXkgWydhJywgJ2InLCAnYycsICdkJywgJ2UnXVxuICogLy8gLT4gcmVzdWx0QXJyYXkgW11cbiAqXG4gKiBjb25zdCBvcmlnaW5hbEFycmF5ID0gWydhJywgJ2InLCAnYycsICdkJywgJ2UnXTtcbiAqIGNvbnN0IHJlc3VsdEFycmF5ID0gc3BsaWNlKG9yaWdpbmFsQXJyYXksIDAsIC0zKTtcbiAqIC8vIC0+IG9yaWdpbmFsQXJyYXkgWydhJywgJ2InLCAnYycsICdkJywgJ2UnXVxuICogLy8gLT4gcmVzdWx0QXJyYXkgWydhJywgJ2InLCAnYycsICdkJywgJ2UnXVxuICpcbiAqIGNvbnN0IG9yaWdpbmFsQXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2QnLCAnZSddO1xuICogY29uc3QgcmVzdWx0QXJyYXkgPSBzcGxpY2Uob3JpZ2luYWxBcnJheSwgMCwgMCwgJ2xvcmVtJywgJ2lwc3VtJyk7XG4gKiAvLyAtPiBvcmlnaW5hbEFycmF5IFsnYScsICdiJywgJ2MnLCAnZCcsICdlJ11cbiAqIC8vIC0+IHJlc3VsdEFycmF5IFsnbG9yZW0nLCAnaXBzdW0nLCAnYScsICdiJywgJ2MnLCAnZCcsICdlJ11cbiAqXG4gKiBjb25zdCBvcmlnaW5hbEFycmF5ID0gWydhJywgJ2InLCAnYycsICdkJywgJ2UnXTtcbiAqIGNvbnN0IHJlc3VsdEFycmF5ID0gc3BsaWNlKG9yaWdpbmFsQXJyYXksIG9yaWdpbmFsQXJyYXkubGVuZ3RoLCAwLCAnbG9yZW0nLCAnaXBzdW0nKTtcbiAqIC8vIC0+IG9yaWdpbmFsQXJyYXkgWydhJywgJ2InLCAnYycsICdkJywgJ2UnXVxuICogLy8gLT4gcmVzdWx0QXJyYXkgWydhJywgJ2InLCAnYycsICdkJywgJ2UnLCAnbG9yZW0nLCAnaXBzdW0nXVxuICpcbiAqIGNvbnN0IG9yaWdpbmFsQXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2QnLCAnZSddO1xuICogY29uc3QgcmVzdWx0QXJyYXkgPSBzcGxpY2Uob3JpZ2luYWxBcnJheSwgMCwgMiwgJ2xvcmVtJywgJ2lwc3VtJyk7XG4gKiAvLyAtPiBvcmlnaW5hbEFycmF5IFsnYScsICdiJywgJ2MnLCAnZCcsICdlJ11cbiAqIC8vIC0+IHJlc3VsdEFycmF5IFsnbG9yZW0nLCAnaXBzdW0nLCAnYycsICdkJywgJ2UnXVxuICpcbiAqIGNvbnN0IG9yaWdpbmFsQXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2QnLCAnZSddO1xuICogY29uc3QgcmVzdWx0QXJyYXkgPSBzcGxpY2Uob3JpZ2luYWxBcnJheSwgb3JpZ2luYWxBcnJheS5sZW5ndGggLSAyLCAyLCAnbG9yZW0nLCAnaXBzdW0nKTtcbiAqIC8vIC0+IG9yaWdpbmFsQXJyYXkgWydhJywgJ2InLCAnYycsICdkJywgJ2UnXVxuICogLy8gLT4gcmVzdWx0QXJyYXkgWydhJywgJ2InLCAnYycsICdsb3JlbScsICdpcHN1bSddXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcGxpY2U8VD4oYXJyYXk6IFRbXSwgc3RhcnQgPSBhcnJheS5sZW5ndGgsIGRlbGV0ZUNvdW50ID0gYXJyYXkubGVuZ3RoIC0gc3RhcnQsIC4uLmVsZW1lbnROOiBUW10pOiBUW10ge1xuICByZXR1cm4gWy4uLmFycmF5LnNsaWNlKDAsIHN0YXJ0KSwgLi4uZWxlbWVudE4sIC4uLmFycmF5LnNsaWNlKHN0YXJ0ICsgKGRlbGV0ZUNvdW50IDwgMCA/IDAgOiBkZWxldGVDb3VudCkpXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZTxUPihhcnI6IFRbXSwgaXRlbTogVCkge1xuICByZXR1cm4gYXJyLmluZGV4T2YoaXRlbSkgPiAtMSA/IGFyci5maWx0ZXIoY3VycmVudCA9PiBpdGVtICE9PSBjdXJyZW50KSA6IHB1c2goYXJyLCBpdGVtKTtcbn1cbiJdfQ==