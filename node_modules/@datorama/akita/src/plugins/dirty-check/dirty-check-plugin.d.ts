import { AkitaPlugin, Queries } from '../plugin';
import { Observable } from 'rxjs';
import { EntityParam } from '../entity-collection-plugin';
export declare type DirtyCheckComparator<Entity> = (head: Entity, current: Entity) => boolean;
export declare type DirtyCheckParams<StoreState = any> = {
    comparator?: DirtyCheckComparator<StoreState>;
    watchProperty?: keyof StoreState | (keyof StoreState)[];
};
export declare const dirtyCheckDefaultParams: {
    comparator: (head: any, current: any) => boolean;
};
export declare type DirtyCheckResetParams<StoreState = any> = {
    updateFn?: StoreState | ((head: StoreState, current: StoreState) => any);
};
export declare class DirtyCheckPlugin<Entity = any, StoreState = any> extends AkitaPlugin<Entity, StoreState> {
    protected query: Queries<Entity, StoreState>;
    private params?;
    private _entityId?;
    private head;
    private dirty;
    private subscription;
    private active;
    isDirty$: Observable<boolean>;
    constructor(query: Queries<Entity, StoreState>, params?: DirtyCheckParams, _entityId?: EntityParam);
    protected getHead(): Entity | StoreState | Partial<StoreState>;
    private activate;
    reset(params?: DirtyCheckResetParams): void;
    setHead(): this;
    isDirty(): boolean;
    hasHead(): boolean;
    destroy(): void;
    private updateDirtiness;
    private _getHead;
    private compareProp;
}
